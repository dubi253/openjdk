#Test Results (version 2)
#Mon Apr 29 00:53:16 UTC 2024
#-----testdescription-----
$file=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java
$root=/Users/runner/work/openjdk/openjdk/test/jdk
author=Mark Reinhold
keywords=bug4076287 othervm
run=USER_SPECIFIED main/othervm -ms16m -mx16m Pin\n
source=Pin.java
title=Invoking get on a SoftReference shouldn't pin the referent

#-----environment-----

#-----testresult-----
description=file\:/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java
elapsed=8626 0\:00\:08.626
end=Mon Apr 29 00\:53\:16 UTC 2024
environment=regtest
execStatus=Passed. Execution successful
harnessLoaderMode=Classpath Loader
harnessVariety=Full Bundle
hostname=192.168.64.24
javatestOS=Mac OS X 13.6.6 (x86_64)
javatestVersion=6.0-ea+b24-2024-04-28-${BUILT_FROM_COMMIT}
jtregVersion=jtreg 7.3.1 dev 0
script=com.sun.javatest.regtest.exec.RegressionScript
sections=script_messages build compile main
start=Mon Apr 29 00\:53\:07 UTC 2024
test=java/lang/ref/SoftReference/Pin.java
testJDK=/Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home
testJDK_OS=[name\:Mac OS X,arch\:x86_64,version\:13.6.6,family\:mac,simple_arch\:x64,simple_version\:13.6,processors\:4,maxMemory\:15032385536,maxSwap\:0]
testJDK_os.arch=x86_64
testJDK_os.name=Mac OS X
testJDK_os.version=13.6.6
totalTime=8626
user.name=runner
work=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/java/lang/ref/SoftReference

#section:script_messages
----------messages:(4/341)----------
JDK under test: /Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home
openjdk version "23-internal" 2024-09-17
OpenJDK Runtime Environment (build 23-internal-dubi253-4c630b0b2463c476ae1e6c8cae3ae981b793158c)
OpenJDK 64-Bit Server VM (build 23-internal-dubi253-4c630b0b2463c476ae1e6c8cae3ae981b793158c, mixed mode, sharing)

#section:build
----------messages:(7/196)----------
command: build Pin
reason: Named class compiled on demand
started: Mon Apr 29 00:53:07 UTC 2024
Test directory:
  compile: Pin
finished: Mon Apr 29 00:53:07 UTC 2024
elapsed time (seconds): 0.013
result: Passed. Build successful

#section:compile
----------messages:(7/281)----------
command: compile /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java
reason: .class file out of date or does not exist
started: Mon Apr 29 00:53:07 UTC 2024
Mode: agentvm
Agent id: 1
finished: Mon Apr 29 00:53:07 UTC 2024
elapsed time (seconds): 0.013
----------configuration:(10/695)----------
Boot Layer (javac runtime environment)
  class path: /Users/runner/work/openjdk/openjdk/jtreg/installed/lib/javatest.jar 
              /Users/runner/work/openjdk/openjdk/jtreg/installed/lib/jtreg.jar 
  patch:      java.base /Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/patches/java.base

javac compilation environment
  source path: /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference
  class path:  /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference
               /Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d

----------rerun:(33/3188)*----------
cd /Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/scratch/0 && \\
HOME=/Users/runner \\
LANG=en_US.UTF-8 \\
LC_ALL=C \\
LC_CTYPE=en_US.UTF-8 \\
PATH=/bin:/usr/bin:/usr/sbin \\
TEST_IMAGE_DIR=/Users/runner/work/openjdk/openjdk/bundles/tests \\
    /Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home/bin/javac \\
        -J-Xmx768m \\
        -J-XX:MaxRAMPercentage=12.5 \\
        -J-Dtest.boot.jdk=/Users/runner/work/openjdk/openjdk/bootjdk/jdk \\
        -J-Djava.io.tmpdir=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp \\
        -J-ea \\
        -J-esa \\
        -J-Dtest.vm.opts='-Xmx768m -XX:MaxRAMPercentage=12.5 -Dtest.boot.jdk=/Users/runner/work/openjdk/openjdk/bootjdk/jdk -Djava.io.tmpdir=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -ea -esa' \\
        -J-Dtest.tool.vm.opts='-J-Xmx768m -J-XX:MaxRAMPercentage=12.5 -J-Dtest.boot.jdk=/Users/runner/work/openjdk/openjdk/bootjdk/jdk -J-Djava.io.tmpdir=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -J-ea -J-esa' \\
        -J-Dtest.compiler.opts= \\
        -J-Dtest.java.opts=-XX:-CreateCoredumpOnCrash \\
        -J-Dtest.jdk=/Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home \\
        -J-Dcompile.jdk=/Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home \\
        -J-Dtest.timeout.factor=4.0 \\
        -J-Dtest.nativepath=/Users/runner/work/openjdk/openjdk/bundles/tests/jdk/jtreg/native \\
        -J-Dtest.root=/Users/runner/work/openjdk/openjdk/test/jdk \\
        -J-Dtest.name=java/lang/ref/SoftReference/Pin.java \\
        -J-Dtest.file=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java \\
        -J-Dtest.src=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -J-Dtest.src.path=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -J-Dtest.classes=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d \\
        -J-Dtest.class.path=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d \\
        -J-Dtest.class.path.prefix=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d:/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -d /Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d \\
        -sourcepath /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -classpath /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference:/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java
----------direct:(2/175)----------
Note: /Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
result: Passed. Compilation successful

#section:main
----------messages:(6/241)----------
command: main -ms16m -mx16m Pin
reason: User specified action: run main/othervm -ms16m -mx16m Pin 
started: Mon Apr 29 00:53:07 UTC 2024
Mode: othervm [/othervm specified]
finished: Mon Apr 29 00:53:16 UTC 2024
elapsed time (seconds): 8.613
----------configuration:(0/0)----------
----------System.out:(0/0)----------
----------System.err:(7/276)----------
Filling array with 128 SoftReferences to blocks of 32768 bytes.
Allowing SoftReferences to be enqueued.
Invoking get() on SoftReferences.
Forcing desperate garbage collection...
Got OutOfMemoryError, as expected.
Examining contents of array: 128 empty, 0 full.
STATUS:Passed.
----------rerun:(36/3303)*----------
cd /Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/scratch/0 && \\
HOME=/Users/runner \\
LANG=en_US.UTF-8 \\
LC_ALL=C \\
LC_CTYPE=en_US.UTF-8 \\
PATH=/bin:/usr/bin:/usr/sbin \\
TEST_IMAGE_DIR=/Users/runner/work/openjdk/openjdk/bundles/tests \\
CLASSPATH=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d:/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference:/Users/runner/work/openjdk/openjdk/jtreg/installed/lib/javatest.jar:/Users/runner/work/openjdk/openjdk/jtreg/installed/lib/jtreg.jar \\
    /Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home/bin/java \\
        -Dtest.vm.opts='-Xmx768m -XX:MaxRAMPercentage=12.5 -Dtest.boot.jdk=/Users/runner/work/openjdk/openjdk/bootjdk/jdk -Djava.io.tmpdir=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -ea -esa' \\
        -Dtest.tool.vm.opts='-J-Xmx768m -J-XX:MaxRAMPercentage=12.5 -J-Dtest.boot.jdk=/Users/runner/work/openjdk/openjdk/bootjdk/jdk -J-Djava.io.tmpdir=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -J-ea -J-esa' \\
        -Dtest.compiler.opts= \\
        -Dtest.java.opts=-XX:-CreateCoredumpOnCrash \\
        -Dtest.jdk=/Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home \\
        -Dcompile.jdk=/Users/runner/work/openjdk/openjdk/bundles/jdk/jdk-23.jdk/Contents/Home \\
        -Dtest.timeout.factor=4.0 \\
        -Dtest.nativepath=/Users/runner/work/openjdk/openjdk/bundles/tests/jdk/jtreg/native \\
        -Dtest.root=/Users/runner/work/openjdk/openjdk/test/jdk \\
        -Dtest.name=java/lang/ref/SoftReference/Pin.java \\
        -Dtest.file=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference/Pin.java \\
        -Dtest.src=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -Dtest.src.path=/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -Dtest.classes=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d \\
        -Dtest.class.path=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d \\
        -Dtest.class.path.prefix=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/0/java/lang/ref/SoftReference/Pin.d:/Users/runner/work/openjdk/openjdk/test/jdk/java/lang/ref/SoftReference \\
        -Xmx768m \\
        -XX:MaxRAMPercentage=12.5 \\
        -Dtest.boot.jdk=/Users/runner/work/openjdk/openjdk/bootjdk/jdk \\
        -Djava.io.tmpdir=/Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp \\
        -ea \\
        -esa \\
        -XX:-CreateCoredumpOnCrash \\
        -Djava.library.path=/Users/runner/work/openjdk/openjdk/bundles/tests/jdk/jtreg/native \\
        -ms16m \\
        -mx16m \\
        com.sun.javatest.regtest.agent.MainWrapper /Users/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/java/lang/ref/SoftReference/Pin.d/main.0.jta
result: Passed. Execution successful


test result: Passed. Execution successful
