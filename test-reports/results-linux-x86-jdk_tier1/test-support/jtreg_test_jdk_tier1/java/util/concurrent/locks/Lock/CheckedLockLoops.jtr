#Test Results (version 2)
#Mon Apr 29 00:54:32 UTC 2024
#-----testdescription-----
$file=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock/CheckedLockLoops.java
$root=/home/runner/work/openjdk/openjdk/test/jdk
keywords=bug4486658
library=/test/lib
run=ASSUMED_ACTION main CheckedLockLoops\n
source=CheckedLockLoops.java
title=basic safety and liveness of ReentrantLocks, and other locks based on them

#-----environment-----

#-----testresult-----
description=file\:/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock/CheckedLockLoops.java
elapsed=306 0\:00\:00.306
end=Mon Apr 29 00\:54\:32 UTC 2024
environment=regtest
execStatus=Passed. Execution successful
harnessLoaderMode=Classpath Loader
harnessVariety=Full Bundle
hostname=fv-az1153-853.j2xen23xrnaetdgy434mngmvif.cx.internal.cloudapp.net
javatestOS=Linux 6.5.0-1018-azure (amd64)
javatestVersion=6.0-ea+b24-2024-04-28-${BUILT_FROM_COMMIT}
jtregVersion=jtreg 7.3.1 dev 0
script=com.sun.javatest.regtest.exec.RegressionScript
sections=script_messages build compile main
start=Mon Apr 29 00\:54\:31 UTC 2024
test=java/util/concurrent/locks/Lock/CheckedLockLoops.java
testJDK=/home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23
testJDK_OS=[name\:Linux,arch\:i386,version\:6.5.0-1018-azure,family\:linux,simple_arch\:i586,simple_version\:6.5,processors\:4,maxMemory\:16757346304,maxSwap\:4294963200]
testJDK_os.arch=i386
testJDK_os.name=Linux
testJDK_os.version=6.5.0-1018-azure
totalTime=307
user.name=runner
work=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/java/util/concurrent/locks/Lock

#section:script_messages
----------messages:(7/544)----------
JDK under test: /home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23
openjdk version "23-internal" 2024-09-17
OpenJDK Runtime Environment (build 23-internal-dubi253-4c630b0b2463c476ae1e6c8cae3ae981b793158c)
OpenJDK Server VM (build 23-internal-dubi253-4c630b0b2463c476ae1e6c8cae3ae981b793158c, mixed mode, sharing)
Library /test/lib; kind: packages
   source directory: /home/runner/work/openjdk/openjdk/test/lib
   class directory: /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib

#section:build
----------messages:(7/222)----------
command: build CheckedLockLoops
reason: Named class compiled on demand
started: Mon Apr 29 00:54:31 UTC 2024
Test directory:
  compile: CheckedLockLoops
finished: Mon Apr 29 00:54:31 UTC 2024
elapsed time (seconds): 0.061
result: Passed. Build successful

#section:compile
----------messages:(7/297)----------
command: compile /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock/CheckedLockLoops.java
reason: .class file out of date or does not exist
started: Mon Apr 29 00:54:31 UTC 2024
Mode: agentvm
Agent id: 1
finished: Mon Apr 29 00:54:31 UTC 2024
elapsed time (seconds): 0.061
----------configuration:(12/898)----------
Boot Layer (javac runtime environment)
  class path: /home/runner/work/openjdk/openjdk/jtreg/installed/lib/javatest.jar 
              /home/runner/work/openjdk/openjdk/jtreg/installed/lib/jtreg.jar 
  patch:      java.base /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/patches/java.base

javac compilation environment
  source path: /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock
               /home/runner/work/openjdk/openjdk/test/lib
  class path:  /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock
               /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d
               /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib

----------rerun:(35/3805)*----------
cd /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/scratch/1 && \\
HOME=/home/runner \\
LANG=C.UTF-8 \\
LC_ALL=C \\
PATH=/bin:/usr/bin:/usr/sbin \\
TEST_IMAGE_DIR=/home/runner/work/openjdk/openjdk/bundles/tests \\
XDG_CONFIG_HOME=/home/runner/.config \\
XDG_RUNTIME_DIR=/run/user/1001 \\
_JVM_DWARF_PATH=/home/runner/work/openjdk/openjdk/bundles/symbols/jdk-23 \\
    /home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23/bin/javac \\
        -J-Xmx768m \\
        -J-XX:MaxRAMPercentage=12.5 \\
        -J-Dtest.boot.jdk=/home/runner/work/openjdk/openjdk/bootjdk/jdk \\
        -J-Djava.io.tmpdir=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp \\
        -J-ea \\
        -J-esa \\
        -J-Dtest.vm.opts='-Xmx768m -XX:MaxRAMPercentage=12.5 -Dtest.boot.jdk=/home/runner/work/openjdk/openjdk/bootjdk/jdk -Djava.io.tmpdir=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -ea -esa' \\
        -J-Dtest.tool.vm.opts='-J-Xmx768m -J-XX:MaxRAMPercentage=12.5 -J-Dtest.boot.jdk=/home/runner/work/openjdk/openjdk/bootjdk/jdk -J-Djava.io.tmpdir=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -J-ea -J-esa' \\
        -J-Dtest.compiler.opts= \\
        -J-Dtest.java.opts=-XX:-CreateCoredumpOnCrash \\
        -J-Dtest.jdk=/home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23 \\
        -J-Dcompile.jdk=/home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23 \\
        -J-Dtest.timeout.factor=4.0 \\
        -J-Dtest.nativepath=/home/runner/work/openjdk/openjdk/bundles/tests/jdk/jtreg/native \\
        -J-Dtest.root=/home/runner/work/openjdk/openjdk/test/jdk \\
        -J-Dtest.name=java/util/concurrent/locks/Lock/CheckedLockLoops.java \\
        -J-Dtest.file=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock/CheckedLockLoops.java \\
        -J-Dtest.src=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock \\
        -J-Dtest.src.path=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/test/lib \\
        -J-Dtest.classes=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d \\
        -J-Dtest.class.path=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib \\
        -J-Dtest.class.path.prefix=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d:/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib \\
        -d /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d \\
        -sourcepath /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/test/lib \\
        -classpath /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock/CheckedLockLoops.java
result: Passed. Compilation successful

#section:main
----------messages:(7/235)----------
command: main CheckedLockLoops
reason: Assumed action based on file name: run main CheckedLockLoops 
started: Mon Apr 29 00:54:31 UTC 2024
Mode: agentvm
Agent id: 29
finished: Mon Apr 29 00:54:32 UTC 2024
elapsed time (seconds): 0.244
----------configuration:(15/1130)----------
Boot Layer
  class path: /home/runner/work/openjdk/openjdk/jtreg/installed/lib/javatest.jar 
              /home/runner/work/openjdk/openjdk/jtreg/installed/lib/jtreg.jar 
              /home/runner/work/openjdk/openjdk/jtreg/installed/lib/junit-platform-console-standalone-1.9.2.jar 
              /home/runner/work/openjdk/openjdk/jtreg/installed/lib/testng-7.3.0.jar 
              /home/runner/work/openjdk/openjdk/jtreg/installed/lib/guice-5.1.0.jar 
              /home/runner/work/openjdk/openjdk/jtreg/installed/lib/jcommander-1.82.jar 
  patch:      java.base /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/patches/java.base

Test Layer
  class path: /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d
              /home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock
              /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib
              /home/runner/work/openjdk/openjdk/test/lib

----------rerun:(28/3272)*----------
cd /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/scratch/1 && \\
HOME=/home/runner \\
LANG=C.UTF-8 \\
LC_ALL=C \\
PATH=/bin:/usr/bin:/usr/sbin \\
TEST_IMAGE_DIR=/home/runner/work/openjdk/openjdk/bundles/tests \\
XDG_CONFIG_HOME=/home/runner/.config \\
XDG_RUNTIME_DIR=/run/user/1001 \\
_JVM_DWARF_PATH=/home/runner/work/openjdk/openjdk/bundles/symbols/jdk-23 \\
    /home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23/bin/java \\
        -Dtest.vm.opts='-Xmx768m -XX:MaxRAMPercentage=12.5 -Dtest.boot.jdk=/home/runner/work/openjdk/openjdk/bootjdk/jdk -Djava.io.tmpdir=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -ea -esa' \\
        -Dtest.tool.vm.opts='-J-Xmx768m -J-XX:MaxRAMPercentage=12.5 -J-Dtest.boot.jdk=/home/runner/work/openjdk/openjdk/bootjdk/jdk -J-Djava.io.tmpdir=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/tmp -J-ea -J-esa' \\
        -Dtest.compiler.opts= \\
        -Dtest.java.opts=-XX:-CreateCoredumpOnCrash \\
        -Dtest.jdk=/home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23 \\
        -Dcompile.jdk=/home/runner/work/openjdk/openjdk/bundles/jdk/jdk-23 \\
        -Dtest.timeout.factor=4.0 \\
        -Dtest.nativepath=/home/runner/work/openjdk/openjdk/bundles/tests/jdk/jtreg/native \\
        -Dtest.root=/home/runner/work/openjdk/openjdk/test/jdk \\
        -Dtest.name=java/util/concurrent/locks/Lock/CheckedLockLoops.java \\
        -Dtest.file=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock/CheckedLockLoops.java \\
        -Dtest.src=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock \\
        -Dtest.src.path=/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/test/lib \\
        -Dtest.classes=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d \\
        -Dtest.class.path=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib \\
        -Dtest.class.path.prefix=/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d:/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib \\
        -classpath /home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/java/util/concurrent/locks/Lock/CheckedLockLoops.d:/home/runner/work/openjdk/openjdk/test/jdk/java/util/concurrent/locks/Lock:/home/runner/work/openjdk/openjdk/build/run-test-prebuilt/test-support/jtreg_test_jdk_tier1/classes/1/test/lib:/home/runner/work/openjdk/openjdk/test/lib:/home/runner/work/openjdk/openjdk/jtreg/installed/lib/javatest.jar:/home/runner/work/openjdk/openjdk/jtreg/installed/lib/jtreg.jar \\
        CheckedLockLoops
----------System.out:(44/1932)----------
Threads: 1
builtin lock          	      550 ns per update
ReentrantLock         	      671 ns per update
Mutex                 	      579 ns per update
ReentrantWriteLock    	      780 ns per update
ReentrantReadWriteLock	      741 ns per update
Semaphore             	      428 ns per update
fair Semaphore        	      416 ns per update
FairReentrantLock     	     1093 ns per update
FairRWriteLock         	      844 ns per update
FairRReadWriteLock     	      431 ns per update
Threads: 2
builtin lock          	      216 ns per update
ReentrantLock         	      265 ns per update
Mutex                 	     1052 ns per update
ReentrantWriteLock    	      603 ns per update
ReentrantReadWriteLock	      282 ns per update
Semaphore             	      288 ns per update
fair Semaphore        	     2883 ns per update
FairReentrantLock     	      260 ns per update
FairRWriteLock         	      331 ns per update
FairRReadWriteLock     	      312 ns per update
Threads: 3
builtin lock          	      275 ns per update
ReentrantLock         	      253 ns per update
Mutex                 	      293 ns per update
ReentrantWriteLock    	      392 ns per update
ReentrantReadWriteLock	      654 ns per update
Semaphore             	      380 ns per update
fair Semaphore        	      340 ns per update
FairReentrantLock     	      739 ns per update
FairRWriteLock         	      463 ns per update
FairRReadWriteLock     	    11700 ns per update
Threads: 5
builtin lock          	      243 ns per update
ReentrantLock         	      389 ns per update
Mutex                 	      394 ns per update
ReentrantWriteLock    	      545 ns per update
ReentrantReadWriteLock	      526 ns per update
Semaphore             	      361 ns per update
fair Semaphore        	      342 ns per update
FairReentrantLock     	      319 ns per update
FairRWriteLock         	      274 ns per update
FairRReadWriteLock     	     8654 ns per update
----------System.err:(3/35)----------

JavaTest Message: Test complete.

result: Passed. Execution successful


test result: Passed. Execution successful
