#Test Results (version 2)
#Mon Apr 29 01:04:36 UTC 2024
#-----testdescription-----
$file=D\:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.java
$root=D\:\\a\\openjdk\\openjdk\\test\\jdk
author=Jan Luehe
keywords=bug0000000
run=ASSUMED_ACTION main DoFinalReturnLen\r\n
source=DoFinalReturnLen.java
title=Makes sure that Cipher.doFinal() returns the right number of bytes written

#-----environment-----

#-----testresult-----
description=file\:/D\:/a/openjdk/openjdk/test/jdk/com/sun/crypto/provider/Cipher/DES/DoFinalReturnLen.java
elapsed=62 0\:00\:00.062
end=Mon Apr 29 01\:04\:36 UTC 2024
environment=regtest
execStatus=Passed. Execution successful
harnessLoaderMode=Classpath Loader
harnessVariety=Full Bundle
hostname=fv-az978-691.aqccnys5fsauxnvc2cwlk3lemf.dx.internal.cloudapp.net
javatestOS=Windows Server 2019 10.0 (amd64)
javatestVersion=6.0-ea+b24-2024-04-29-${BUILT_FROM_COMMIT}
jtregVersion=jtreg 7.3.1 dev 0
script=com.sun.javatest.regtest.exec.RegressionScript
sections=script_messages build compile main
start=Mon Apr 29 01\:04\:36 UTC 2024
test=com/sun/crypto/provider/Cipher/DES/DoFinalReturnLen.java
testJDK=d\:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23
testJDK_OS=[name\:Windows Server 2019,arch\:amd64,version\:10.0,family\:windows,simple_arch\:x64,simple_version\:10.0,processors\:4,maxMemory\:17179398144,maxSwap\:20266405888]
testJDK_os.arch=amd64
testJDK_os.name=Windows Server 2019
testJDK_os.version=10.0
totalTime=62
user.name=runneradmin
work=D\:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\com\\sun\\crypto\\provider\\Cipher\\DES

#section:script_messages
----------messages:(4/317)*----------
JDK under test: d:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23
openjdk version "23-internal" 2024-09-17
OpenJDK Runtime Environment (build 23-internal-dubi253-4c630b0b2463c476ae1e6c8cae3ae981b793158c)
OpenJDK 64-Bit Server VM (build 23-internal-dubi253-4c630b0b2463c476ae1e6c8cae3ae981b793158c, mixed mode, sharing)

#section:build
----------messages:(7/229)----------
command: build DoFinalReturnLen
reason: Named class compiled on demand
started: Mon Apr 29 01:04:36 UTC 2024
Test directory:
  compile: DoFinalReturnLen
finished: Mon Apr 29 01:04:36 UTC 2024
elapsed time (seconds): 0.015
result: Passed. Build successful

#section:compile
----------messages:(7/306)*----------
command: compile D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.java
reason: .class file out of date or does not exist
started: Mon Apr 29 01:04:36 UTC 2024
Mode: agentvm
Agent id: 1
finished: Mon Apr 29 01:04:36 UTC 2024
elapsed time (seconds): 0.015
----------configuration:(10/713)*----------
Boot Layer (javac runtime environment)
  class path: D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\javatest.jar 
              D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\jtreg.jar 
  patch:      java.base D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\patches\\java.base

javac compilation environment
  source path: D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES
  class path:  D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES
               D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d

----------rerun:(36/3663)*----------
cd 'D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\scratch' && \\
PATH='C:\\hostedtoolcache\\windows\\msys2\\msys64\\usr\\bin;D:\\a\\_temp\\setup-msys2' \\
SystemDrive=C: \\
SystemRoot='C:\\Windows' \\
TEMP='C:\\Users\\RUNNER~1\\AppData\\Local\\Temp' \\
TEST_IMAGE_DIR='d:\\a\\openjdk\\openjdk\\bundles\\tests' \\
TMP='C:\\Users\\RUNNER~1\\AppData\\Local\\Temp' \\
_NT_SYMBOL_PATH=' d:\\a\\openjdk\\openjdk\\bundles\\symbols\\jdk-23\\bin;d:\\a\\openjdk\\openjdk\\bundles\\symbols\\jdk-23\\bin\\server' \\
windir='C:\\Windows' \\
    'd:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23\\bin\\javac' \\
        -J-Xmx768m \\
        -J-XX:MaxRAMPercentage=25 \\
        -J'-Dtest.boot.jdk=d:\\a\\openjdk\\openjdk\\bootjdk\\jdk' \\
        -J'-Djava.io.tmpdir=d:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\tmp' \\
        -J-XX:+CreateCoredumpOnCrash \\
        -J-ea \\
        -J-esa \\
        -J-Dtest.vm.opts='-Xmx768m -XX:MaxRAMPercentage=25 -Dtest.boot.jdk=d:\\a\\openjdk\\openjdk\\bootjdk\\jdk -Djava.io.tmpdir=d:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\tmp -XX:+CreateCoredumpOnCrash -ea -esa' \\
        -J-Dtest.tool.vm.opts='-J-Xmx768m -J-XX:MaxRAMPercentage=25 -J-Dtest.boot.jdk=d:\\a\\openjdk\\openjdk\\bootjdk\\jdk -J-Djava.io.tmpdir=d:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\tmp -J-XX:+CreateCoredumpOnCrash -J-ea -J-esa' \\
        -J-Dtest.compiler.opts= \\
        -J-Dtest.java.opts=-XX:-CreateCoredumpOnCrash \\
        -J-Dtest.jdk='d:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23' \\
        -J-Dcompile.jdk='d:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23' \\
        -J-Dtest.timeout.factor=4.0 \\
        -J-Dtest.nativepath='d:\\a\\openjdk\\openjdk\\bundles\\tests\\jdk\\jtreg\\native' \\
        -J-Dtest.root='D:\\a\\openjdk\\openjdk\\test\\jdk' \\
        -J-Dtest.name=com/sun/crypto/provider/Cipher/DES/DoFinalReturnLen.java \\
        -J-Dtest.file='D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.java' \\
        -J-Dtest.src='D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -J-Dtest.src.path='D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -J-Dtest.classes='D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d' \\
        -J-Dtest.class.path='D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d' \\
        -J-Dtest.class.path.prefix='D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d;D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -d 'D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d' \\
        -sourcepath 'D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -classpath 'D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES;D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d' 'D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.java'
----------direct:(2/196)*----------
Note: D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
result: Passed. Compilation successful

#section:main
----------messages:(7/241)----------
command: main DoFinalReturnLen
reason: Assumed action based on file name: run main DoFinalReturnLen 
started: Mon Apr 29 01:04:36 UTC 2024
Mode: agentvm
Agent id: 8
finished: Mon Apr 29 01:04:36 UTC 2024
elapsed time (seconds): 0.047
----------configuration:(13/925)*----------
Boot Layer
  class path: D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\javatest.jar 
              D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\jtreg.jar 
              D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\junit-platform-console-standalone-1.9.2.jar 
              D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\testng-7.3.0.jar 
              D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\guice-5.1.0.jar 
              D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\jcommander-1.82.jar 
  patch:      java.base D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\patches\\java.base

Test Layer
  class path: D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d
              D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES

----------rerun:(28/3069)*----------
cd 'D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\scratch' && \\
PATH='C:\\hostedtoolcache\\windows\\msys2\\msys64\\usr\\bin;D:\\a\\_temp\\setup-msys2' \\
SystemDrive=C: \\
SystemRoot='C:\\Windows' \\
TEMP='C:\\Users\\RUNNER~1\\AppData\\Local\\Temp' \\
TEST_IMAGE_DIR='d:\\a\\openjdk\\openjdk\\bundles\\tests' \\
TMP='C:\\Users\\RUNNER~1\\AppData\\Local\\Temp' \\
_NT_SYMBOL_PATH=' d:\\a\\openjdk\\openjdk\\bundles\\symbols\\jdk-23\\bin;d:\\a\\openjdk\\openjdk\\bundles\\symbols\\jdk-23\\bin\\server' \\
windir='C:\\Windows' \\
    'd:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23\\bin\\java' \\
        -Dtest.vm.opts='-Xmx768m -XX:MaxRAMPercentage=25 -Dtest.boot.jdk=d:\\a\\openjdk\\openjdk\\bootjdk\\jdk -Djava.io.tmpdir=d:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\tmp -XX:+CreateCoredumpOnCrash -ea -esa' \\
        -Dtest.tool.vm.opts='-J-Xmx768m -J-XX:MaxRAMPercentage=25 -J-Dtest.boot.jdk=d:\\a\\openjdk\\openjdk\\bootjdk\\jdk -J-Djava.io.tmpdir=d:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\tmp -J-XX:+CreateCoredumpOnCrash -J-ea -J-esa' \\
        -Dtest.compiler.opts= \\
        -Dtest.java.opts=-XX:-CreateCoredumpOnCrash \\
        -Dtest.jdk='d:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23' \\
        -Dcompile.jdk='d:\\a\\openjdk\\openjdk\\bundles\\jdk\\jdk-23' \\
        -Dtest.timeout.factor=4.0 \\
        -Dtest.nativepath='d:\\a\\openjdk\\openjdk\\bundles\\tests\\jdk\\jtreg\\native' \\
        -Dtest.root='D:\\a\\openjdk\\openjdk\\test\\jdk' \\
        -Dtest.name=com/sun/crypto/provider/Cipher/DES/DoFinalReturnLen.java \\
        -Dtest.file='D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.java' \\
        -Dtest.src='D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -Dtest.src.path='D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -Dtest.classes='D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d' \\
        -Dtest.class.path='D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d' \\
        -Dtest.class.path.prefix='D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d;D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES' \\
        -classpath 'D:\\a\\openjdk\\openjdk\\build\\run-test-prebuilt\\test-support\\jtreg_test_jdk_tier1\\classes\\com\\sun\\crypto\\provider\\Cipher\\DES\\DoFinalReturnLen.d;D:\\a\\openjdk\\openjdk\\test\\jdk\\com\\sun\\crypto\\provider\\Cipher\\DES;D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\javatest.jar;D:\\a\\openjdk\\openjdk\\jtreg\\installed\\lib\\jtreg.jar' \\
        DoFinalReturnLen
----------System.out:(108/4894)----------
SUN
23.0
SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; PKCS12, JKS & DKS keystores; PKIX CertPathValidator; PKIX CertPathBuilder; LDAP, Collection CertStores, JavaPolicy Policy; JavaLoginConfig Configuration)
SunRsaSign
23.0
Sun RSA signature provider
SunEC
23.0
Sun Elliptic Curve provider
SunJSSE
23.0
Sun JSSE provider(PKCS12, SunX509/PKIX key/trust factories, SSLv3/TLSv1/TLSv1.1/TLSv1.2/TLSv1.3/DTLSv1.0/DTLSv1.2)
SunJCE
23.0
SunJCE Provider (implements RSA, DES, Triple DES, AES, Blowfish, ARCFOUR, RC2, PBE, Diffie-Hellman, HMAC, ChaCha20)
SunJGSS
23.0
Sun (Kerberos v5, SPNEGO)
SunSASL
23.0
Sun SASL provider(implements client mechanisms for: DIGEST-MD5, EXTERNAL, PLAIN, CRAM-MD5, NTLM; server mechanisms for: DIGEST-MD5, CRAM-MD5, NTLM)
XMLDSig
23.0
XMLDSig (DOM XMLSignatureFactory; DOM KeyInfoFactory; C14N 1.0, C14N 1.1, Exclusive C14N, Base64, Enveloped, XPath, XPath2, XSLT TransformServices)
SunPCSC
23.0
Sun PC/SC provider
JdkLDAP
23.0
JdkLDAP Provider (implements LDAP CertStore)
JdkSASL
23.0
JDK SASL provider(implements client and server mechanisms for GSSAPI)
SunMSCAPI
23.0
Sun's Microsoft Crypto API provider
SunPKCS11
23.0
Unconfigured and unusable PKCS11 provider
DataToEncrypt:
; 00000000: 02 A4 20 87 B6 C4 54 89 A2 A4 10 87 CD 76 43 F0 [.. ...T......vC.]
; 00000010: 72 A4 A0 82 26 C4 54 19 09 AC 2A E7 1D 74 13 20 [r...&.T...*..t. ]
; 00000020: AD D4 D0 87 B6 C5 24 89 02 F4 90 8E 5D 76 43 2F [......$.....]vC/]
; 00000030: 03 AD 20 8C B5 C4 A4 39 D2 A4 E0 87 CD 56 53 20 [.. ....9.....VS ]
ENCRYPT : Update 64 bytes
ENCRYPT : Final 8 bytes
Encrypted data:
; 00000000: 0F 70 22 42 EB A1 13 77 E2 5A 5F 56 2E 98 9D 73 [.p"B...w.Z_V...s]
; 00000010: A2 B5 E9 9E AA 3D 77 65 05 DA 8F 57 BF 36 86 98 [.....=we...W.6..]
; 00000020: E9 DD A6 8F 39 EC D7 32 52 0C E7 D9 EB 95 F5 DA [....9..2R.......]
; 00000030: 23 27 13 48 F7 3B E4 EA 15 CD 92 87 D9 74 95 7D [#'.H.;.......t.}]
; 00000040: 09 5A DF 2C 99 C5 D2 14                         [.Z.,....        ]
encrLen: 72
decrLen: 72
DECRYPT : Update 64 bytes
DECRYPT : Final 0 bytes
Decrypted data:
; 00000000: 02 A4 20 87 B6 C4 54 89 A2 A4 10 87 CD 76 43 F0 [.. ...T......vC.]
; 00000010: 72 A4 A0 82 26 C4 54 19 09 AC 2A E7 1D 74 13 20 [r...&.T...*..t. ]
; 00000020: AD D4 D0 87 B6 C5 24 89 02 F4 90 8E 5D 76 43 2F [......$.....]vC/]
; 00000030: 03 AD 20 8C B5 C4 A4 39 D2 A4 E0 87 CD 56 53 20 [.. ....9.....VS ]
; 00000040: 00 00 00 00 00 00 00 00                         [........        ]
encrLen: 72
decrLen: 64
DECRYPT : Update 64 bytes
DECRYPT : Final 0 bytes
Decrypted data:
; 00000000: 02 A4 20 87 B6 C4 54 89 A2 A4 10 87 CD 76 43 F0 [.. ...T......vC.]
; 00000010: 72 A4 A0 82 26 C4 54 19 09 AC 2A E7 1D 74 13 20 [r...&.T...*..t. ]
; 00000020: AD D4 D0 87 B6 C5 24 89 02 F4 90 8E 5D 76 43 2F [......$.....]vC/]
; 00000030: 03 AD 20 8C B5 C4 A4 39 D2 A4 E0 87 CD 56 53 20 [.. ....9.....VS ]

DataToEncrypt:
; 00000000: 02 A4 20 87 B6 C4 54 89 A2 A4 10 87 CD 76 43 F0 [.. ...T......vC.]
; 00000010: 72 A4 A0 82 26 C4 54 19 09 AC 2A E7 1D 74 13 20 [r...&.T...*..t. ]
; 00000020: AD D4 D0 87 B6 C5 24 89 02 F4 90 8E 5D 76 43 2F [......$.....]vC/]
; 00000030: 03 AD 20 8C B5 C4 A4 39 D2 A4 E0 87 CD 56 53 20 [.. ....9.....VS ]
; 00000040: 22                                              ["               ]
ENCRYPT : Update 64 bytes
ENCRYPT : Final 8 bytes
Encrypted data:
; 00000000: 0F 70 22 42 EB A1 13 77 E2 5A 5F 56 2E 98 9D 73 [.p"B...w.Z_V...s]
; 00000010: A2 B5 E9 9E AA 3D 77 65 05 DA 8F 57 BF 36 86 98 [.....=we...W.6..]
; 00000020: E9 DD A6 8F 39 EC D7 32 52 0C E7 D9 EB 95 F5 DA [....9..2R.......]
; 00000030: 23 27 13 48 F7 3B E4 EA 15 CD 92 87 D9 74 95 7D [#'.H.;.......t.}]
; 00000040: B2 B2 F5 4F AE 50 42 3C                         [...O.PB<        ]
encrLen: 72
decrLen: 72
DECRYPT : Update 64 bytes
DECRYPT : Final 1 bytes
Decrypted data:
; 00000000: 02 A4 20 87 B6 C4 54 89 A2 A4 10 87 CD 76 43 F0 [.. ...T......vC.]
; 00000010: 72 A4 A0 82 26 C4 54 19 09 AC 2A E7 1D 74 13 20 [r...&.T...*..t. ]
; 00000020: AD D4 D0 87 B6 C5 24 89 02 F4 90 8E 5D 76 43 2F [......$.....]vC/]
; 00000030: 03 AD 20 8C B5 C4 A4 39 D2 A4 E0 87 CD 56 53 20 [.. ....9.....VS ]
; 00000040: 22 00 00 00 00 00 00 00                         [".......        ]
encrLen: 72
decrLen: 65
DECRYPT : Update 64 bytes
DECRYPT : Final 1 bytes
Decrypted data:
; 00000000: 02 A4 20 87 B6 C4 54 89 A2 A4 10 87 CD 76 43 F0 [.. ...T......vC.]
; 00000010: 72 A4 A0 82 26 C4 54 19 09 AC 2A E7 1D 74 13 20 [r...&.T...*..t. ]
; 00000020: AD D4 D0 87 B6 C5 24 89 02 F4 90 8E 5D 76 43 2F [......$.....]vC/]
; 00000030: 03 AD 20 8C B5 C4 A4 39 D2 A4 E0 87 CD 56 53 20 [.. ....9.....VS ]
; 00000040: 22                                              ["               ]

Test succeeded
----------System.err:(3/38)----------

JavaTest Message: Test complete.

result: Passed. Execution successful


test result: Passed. Execution successful
